
function(t){"use strict";t.fn.counterUp=function(e){var i,o=t.extend({time:400,delay:10,offset:100,beginAt:0,formatter:!1,context:"window",callback:function(){}},e);return this.each((function(){var e=t(this),n={time:t(this).data("counterup-time")||o.time,delay:t(this).data("counterup-delay")||o.delay,offset:t(this).data("counterup-offset")||o.offset,beginAt:t(this).data("counterup-beginat")||o.beginAt,context:t(this).data("counterup-context")||o.context};e.waypoint((function(r){!function(){var r=[],s=n.time/n.delay,a=t(this).attr("data-num")?t(this).attr("data-num"):e.text(),l=/[0-9]+,[0-9]+/.test(a),h=((a=a.replace(/,/g,"")).split(".")[1]||[]).length;n.beginAt>a&&(n.beginAt=a);var u=/[0-9]+:[0-9]+:[0-9]+/.test(a);if(u){var c=a.split(":"),p=1;for(i=0;c.length>0;)i+=p*parseInt(c.pop(),10),p*=60}for(var d=s;d>=n.beginAt/a*s;d--){var f=parseFloat(a/s*d).toFixed(h);if(u){f=parseInt(i/s*d);var y=parseInt(f/3600)%24,w=parseInt(f/60)%60,g=parseInt(f%60,10);f=(y<10?"0"+y:y)+":"+(w<10?"0"+w:w)+":"+(g<10?"0"+g:g)}if(l)for(;/(\d+)(\d{3})/.test(f.toString());)f=f.toString().replace(/(\d+)(\d{3})/,"$1,$2");o.formatter&&(f=o.formatter.call(this,f)),r.unshift(f)}e.data("counterup-nums",r),e.text(n.beginAt),e.data("counterup-func",(function(){e.data("counterup-nums")?(e.html(e.data("counterup-nums").shift()),e.data("counterup-nums").length?setTimeout(e.data("counterup-func"),n.delay):(e.data("counterup-nums",null),e.data("counterup-func",null),o.callback.call(this))):o.callback.call(this)})),setTimeout(e.data("counterup-func"),n.delay)}(),this.destroy()}),{offset:n.offset+"%",context:n.context})}))}}(jQuery);